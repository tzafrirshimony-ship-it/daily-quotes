<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>סטודיו השראה</title>
    
    <!-- ספריה להמרת העיצוב לתמונה -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&family=Heebo:wght@300;700&display=swap" rel="stylesheet">
    
    <style>
        body { background-color: #111827; font-family: 'Heebo', sans-serif; }
        
        /* עיצוב הכרטיס שיהפוך לתמונה */
        #capture-area {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            position: relative;
            overflow: hidden;
        }
        
        /* אלמנטים דקורטיביים */
        .circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .handwritten {
            font-family: 'Amatic SC', cursive;
        }

        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #6366f1;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- כותרת -->
    <div class="text-center mb-6">
        <h1 class="text-3xl font-bold text-white mb-1">הכרטיס היומי שלך</h1>
        <p class="text-gray-400 text-sm">צור תמונה, שמור כרקע או שתף בסטטוס</p>
    </div>

    <!-- האזור שיהפוך לתמונה -->
    <div id="capture-area" class="w-full max-w-sm aspect-[9/16] rounded-2xl flex flex-col items-center justify-between p-8 text-center text-white relative mb-8">
        
        <!-- קישוטים -->
        <div class="circle w-64 h-64 -top-10 -right-10"></div>
        <div class="circle w-32 h-32 bottom-20 -left-10"></div>
        
        <!-- תאריך -->
        <div class="relative z-10 w-full flex justify-between items-center opacity-80">
            <span id="dateDisplay" class="text-sm font-bold tracking-widest uppercase"></span>
            <span class="text-2xl">✨</span>
        </div>

        <!-- המשפט -->
        <div class="relative z-10 flex-1 flex items-center justify-center">
            <div>
                <span class="text-6xl opacity-30 block mb-4">"</span>
                <p id="quoteText" class="text-3xl md:text-4xl font-light leading-snug drop-shadow-lg"></p>
                <span class="text-6xl opacity-30 block mt-4">"</span>
            </div>
        </div>

        <!-- חתימה -->
        <div class="relative z-10 opacity-70">
            <p class="handwritten text-3xl">העצמה יומית</p>
        </div>
    </div>

    <!-- כפתורי פעולה -->
    <div class="w-full max-w-sm space-y-3">
        <button onclick="downloadImage()" id="btnDownload" class="w-full bg-white text-indigo-900 py-4 rounded-xl font-bold text-lg shadow-lg active:scale-95 transition flex items-center justify-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            הורד תמונה (לרקע/סטורי)
        </button>
        
        <button onclick="shareText()" class="w-full bg-gray-800 text-white py-3 rounded-xl font-bold border border-gray-700 active:scale-95 transition">
            העתק טקסט בלבד
        </button>
    </div>

    <div id="loading" class="fixed inset-0 bg-black/80 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-4 rounded-xl flex items-center gap-3">
            <div class="loader"></div>
            <span class="text-sm font-bold">מייצר תמונה...</span>
        </div>
    </div>

    <script>
        const quotes = [
            "הדרך היחידה לעשות עבודה נהדרת היא לאהוב את מה שאתה עושה.",
            "העתיד שייך לאלו המאמינים ביופי של החלומות שלהם.",
            "כל יום הוא הזדמנות שנייה.",
            "אל תספור את הימים, גרום לימים להיספר.",
            "ההצלחה היא לא סופית, והכישלון אינו גורלי.",
            "מה שאתה עושה היום יכול לשפר את כל המחרים שלך.",
            "אל תחכה להזדמנות, צור אותה.",
            "השינוי מתחיל בך.",
            "האנרגיה שלך היא המגנט שלך.",
            "תאמין שאתה יכול ואתה כבר בחצי הדרך.",
            "תהיה הגרסה הטובה ביותר של עצמך.",
            "היום הוא התחלה חדשה."
        ];

        // 1. הגדרת התאריך
        const now = new Date();
        const options = { weekday: 'long', day: 'numeric', month: 'long' };
        document.getElementById('dateDisplay').innerText = now.toLocaleDateString('he-IL', options);

        // 2. בחירת משפט יומי (לפי יום בשנה)
        const start = new Date(now.getFullYear(), 0, 0);
        const dayIdx = Math.floor((now - start) / (1000 * 60 * 60 * 24));
        const dailyQuote = quotes[dayIdx % quotes.length];
        document.getElementById('quoteText').innerText = dailyQuote;

        // 3. שינוי רקע רנדומלי כל יום למראה רענן
        const gradients = [
            'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
            'linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%)',
            'linear-gradient(to top, #30cfd0 0%, #330867 100%)',
            'linear-gradient(to right, #4facfe 0%, #00f2fe 100%)',
            'linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%)'
        ];
        document.getElementById('capture-area').style.background = gradients[dayIdx % gradients.length];

        // פונקציה להורדת תמונה
        function downloadImage() {
            const element = document.getElementById('capture-area');
            const loader = document.getElementById('loading');
            
            loader.classList.remove('hidden');

            html2canvas(element, {
                scale: 3, // איכות גבוהה
                useCORS: true,
                backgroundColor: null
            }).then(canvas => {
                // יצירת קישור להורדה
                const link = document.createElement('a');
                link.download = `daily-quote-${now.getDate()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                loader.classList.add('hidden');
            }).catch(err => {
                alert("הייתה בעיה ביצירת התמונה");
                loader.classList.add('hidden');
            });
        }

        function shareText() {
            const text = `${dailyQuote}\n\nנוצר בסטודיו ההשראה היומי ✨`;
            if (navigator.share) {
                navigator.share({ title: 'השראה יומית', text: text });
            } else {
                navigator.clipboard.writeText(text).then(() => alert("הטקסט הועתק!"));
            }
        }
    </script>
</body>
</html>


